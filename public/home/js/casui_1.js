(function(t){if(typeof define==="function"&&define.amd){define(["jquery"],t)}else{t(jQuery)}})(function(t){function i(t,i,e){return t.replace(e||/\\?\{([^{}]+)\}/g,function(t,e){var s=e.split(".");var o=i;for(var a=0;a<s.length;a++){o=typeof o=="object"?o[s[a]]:null}return o===undefined?"":o})}function e(t){if(typeof t=="string"){return t.replace(/<script>/g,"&lt;script&gt;").replace(/<\/script>/g,"&lt;/script&gt;")}else{return t}}var s=function(s){var o=this;var a={title:"Dialog",titleUnderline:false,btnLeft:{text:"btnLeft",fn:null},btnRight:{text:"btnRight",fn:null,color:null},html:"Dialog content...",beforeAction:function(){},beforeAppendTo:function(){},dialogStyle:"dialog",overlayClass:"global_black_overlay",actions:{}};var n="<div>{html}</div>";var l='<h3><div class="ellipsis" style="line-height: 18px;" title="{html}">{html}</div></h3>';var r="";if(s.btnLeft&&s.btnRight){s.btnLeft.text=toUperCaseStr(s.btnLeft.text);s.btnRight.text=toUperCaseStr(s.btnRight.text);r='    <div class="global_dialog_confirm_ft">'+'        <div class="dialog-left-btn-wrap l"><div class="global_dialog_confirm_nor" role="cancel"><span></span></div></div>'+'        <div class="dialog-right-btn-wrap r"><div class="global_dialog_confirm_nor" role="confirm"><span></span><div class="errortip"></div></div></div>'+"    </div>"}else if(!s.btnLeft&&s.btnRight){s.btnRight.text=toUperCaseStr(s.btnRight.text);r='    <div class="global_dialog_confirm_ft">'+'       <div class="global_dialog_confirm_nor dialog-middle-btn-wrap" role="confirm"><span></span><div class="errortip"></div></div>'+"    </div>"}this.options=t.extend(a,s);this.options.html=e(this.options.html);var d="";if("tab"==this.options.dialogStyle){d='<div class="global_dialog_confirm_main_fullScreen" style="display: block;">'+'    <div class="global_dialog_confirm_title">'+'        <h3 class="ellipsis"></h3>'+"    </div>"+'    <div class="global_dialog_confirm_content">{content}</div>'+r+"</div>"+'<div class="'+this.options.overlayClass+'"></div>'}else{var f="display: block;";if(this.options.width){f=f+"width:"+this.options.width+";"}if(this.options.height){f=f+"height:"+this.options.height+";"}if(this.options.top){f=f+"top:"+this.options.top+";"}if(this.options.left){f=f+"left:"+this.options.left+";"}d='<div class="global_dialog_confirm_main" style="'+f+'">'+'    <div class="global_dialog_confirm_title">'+'        <h3 class="ellipsis"></h3>'+"    </div>"+'    <div class="global_dialog_confirm_content">{content}</div>'+r+"</div>"+'<div class="'+this.options.overlayClass+'"></div>'}if(/<.*?>/.test(s.html)){this.options.content=i(n,this.options)}else{this.options.content=i(l,this.options)}this.dialogHtml=i(d,this.options);this.$dialogWrap=null;this.init=function(){this.$dialogWrap=t(this.dialogHtml);this.$mask=this.$dialogWrap.last();this.$dialog=this.$dialogWrap.first();this.$dialog.append('<div class="dialog-cancel" role="cancel2"></div>');if(this.options.titleUnderline){this.$dialog.find(".global_dialog_confirm_title h3").css({"text-decoration":"underline"})}this.$dialog.find("[title]").each(function(){var i=t(this).attr("title");if(/^\<.*?\>.*?\<.*?\>$/.test(i))t(this).attr("title",t(i).text())});this.$dialog.on("click","[role=confirm]",function(i){i.stopPropagation();if(t(this).attr("disabled")){return}var e=o.options.btnRight.fn;if(typeof e=="function"){e.call(o)}}).on("click","[role=cancel]",function(){var t=o.options.btnLeft.fn;if(typeof t=="function"){t.call(o)}o.$dialog.trigger("close")}).on("click","[act]",function(i){i.stopPropagation();var e=o.options.actions[t(this).attr("act")];if(typeof e=="function"){e.call(o)}}).on("click","[role=cancel2]",function(){var t;if(o.options.cancelFn){t=o.options.cancelFn}else if(o.options.btnLeft){t=o.options.btnLeft.fn}if(typeof t=="function"){t.call(o)}o.$dialog.trigger("close")}).on("close",function(){o.hide()});this.$mask.on("selectstart",function(){return false}).on("mousedown",function(){return false})};this.show=function(){this.init();if(typeof this.options.beforeAppendTo=="function"){this.options.beforeAppendTo.call(this)}this.$dialogWrap.appendTo("body");this.$dialog.find(".global_dialog_confirm_title h3").attr("title",this.options.title);this.$dialog.find(".global_dialog_confirm_title h3").text(this.options.title);this.$dialog.find(".global_dialog_confirm_ft .dialog-left-btn-wrap>div").attr("title",(this.options.btnLeft||{}).text);this.$dialog.find(".global_dialog_confirm_ft .dialog-left-btn-wrap>div>span").text((this.options.btnLeft||{}).text);this.$dialog.find(".global_dialog_confirm_ft .dialog-right-btn-wrap>div").attr("title",(this.options.btnRight||{}).text);this.$dialog.find(".global_dialog_confirm_ft .dialog-right-btn-wrap>div>span").text((this.options.btnRight||{}).text);this.$dialog.find(".global_dialog_confirm_ft .dialog-middle-btn-wrap").attr("title",(this.options.btnRight||{}).text);this.$dialog.find(".global_dialog_confirm_ft .dialog-middle-btn-wrap>span").text((this.options.btnRight||{}).text);if((this.options.btnRight||{}).color){this.$dialog.find(".global_dialog_confirm_ft .dialog-right-btn-wrap>div>span").css("color",(this.options.btnRight||{}).color)}if(typeof this.options.beforeAction=="function"){this.options.beforeAction.call(this)}t("#login_password").blur();this.$dialogWrap.fadeIn(function(){if("tab"!=o.options.dialogStyle){o.$dialog.css({"margin-top":-o.$dialog.outerHeight()/2})}if(/msie\s+(7|8|9)/.test(navigator.userAgent.toLowerCase())){t("#passwdEye").remove()}})};this.hide=function(){if(this.$dialogWrap&&this.$dialogWrap.length>0){this.$dialogWrap.fadeOut(function(){o.$dialogWrap.remove()})}clearTimeout(authCodeCountTimes)};this.enable=function(){o.$dialog.find("[role=confirm]").removeAttr("disabled");o.$dialog.find("[role=confirm]").removeClass("globle_dialog_btn_disabled");o.$dialog.find("[role=confirm]").css({"cursor":"pointer"})};this.disabled=function(){o.$dialog.find("[role=confirm]").attr("disabled",true);o.$dialog.find("[role=confirm]").addClass("globle_dialog_btn_disabled");o.$dialog.find("[role=confirm]").css({"cursor":"auto"})};return this};t.fn.Dialog=function(i){var e=this[0];if(!e){return}if(typeof i=="string"){switch(true){case i=="show":e.dialog.show();break;case i=="hide":e.dialog.hide();break;case i=="enable":e.dialog.enable();break;case i=="disabled":e.dialog.disabled();break;default:alert("error param");break}}else if(typeof i=="object"){e.dialog=new s(i);t(e).on("click",function(){if(t(this).attr("disabled")){return}this.dialog.show()})}else{alert("error param")}return this};var o=function(i){var s=this;var o={text:"",btnText:"",btnFn:function(){this.hide()},btnColor:null,btnLeftText:null,dialogStyle:"dialog"};var a="<div class='global_dialog_confirm_main'>";var n;this.options=t.extend(o,i);this.options.text=e(this.options.text);if("tab"==this.options.dialogStyle){a="<div class='global_dialog_confirm_main_fullScreen'>"}this.init=function(){this.options.btnLeftText=toUperCaseStr(this.options.btnLeftText);this.options.btnText=toUperCaseStr(this.options.btnText);var i=a+"<div class='textArea center'>"+this.options.text+"</div>"+"<div class='btn-area' style='width:42%;margin:auto'><a class='btn-EMUI5-2' id='rightBtn' href='javascript:void(0)'></a></div></div>";if(this.options.btnLeftText){i=a+"<div class='textArea'>"+this.options.text+"</div>"+"<div class='btn-area clearfloat'>"+"<a class='btn-EMUI5-2 l ' style='width:42%' id='leftBtn' href='javascript:void(0)'></a>"+"<a class='btn-EMUI5-2 r'  style='width:42%' id='rightBtn' href='javascript:void(0)'></a>"+"</div></div>"}i+="<div class='global_black_overlay'></div>";n=t(i);t("body").append(n);n.find("#rightBtn").text(this.options.btnText);n.find("#leftBtn").text(this.options.btnLeftText);if(this.options.btnColor){n.find("#rightBtn").css("color",this.options.btnColor)}addCssActive(t(".btn-EMUI5-2"),"btn-EMUI5-2-active");t("#rightBtn",n).click(function(){s.options.btnFn.call(s)});t("#leftBtn",n).click(function(){s.hide()})};this.show=function(){this.init();return this};this.hide=function(){n.remove()};return this};t.fn.DialogSimple=function(t){o.call(this,t);return this};var a=function(i,e){var s=this;var o={items:[{value:0,label:"defaultValue",other:""}],defaultValue:null,onChange:function(){}};this.selectHtml='<input type="hidden">'+'<b class="dptick r"></b>'+'<span class="ar-eg"></span>'+'<ul class="dpmenu" style="display: none;z-index:1000;"></ul>';this.options=t.extend(o,i);this.init=function(){this.$obj=t(e).addClass("ddrop").append(this.selectHtml);var i=this.$obj.find(".dpmenu");i.parents(".global_dialog_confirm_main, .global_dialog_alert_main").css("overflow","visible");var o=null;for(var a=0;a<this.options.items.length;a++){i.append("<li></li>");i.find("li:last").attr("data-other",this.options.items[a].other);i.find("li:last").attr("data-value",this.options.items[a].value);i.find("li:last").text(d(this.options.items[a].label));if(!this.options.defaultValue&&this.options.defaultValue!==0&&a==0){o=this.options.items[a]}else if(this.options.defaultValue===this.options.items[a].value){o=this.options.items[a]}}if(!o){o=this.options.items[0]}this.$obj.find("span").text(d(o.label));this.$obj.find("input").val(o.value);this.$obj.on("click",function(){var i=t(this).data("open");if(!i){t(this).children(".dpmenu").attr("tabindex",0).fadeIn(300).focus();t(this).data("open",true)}}).on("click",".dpmenu > li",function(){var i=t(this).closest(".ddrop");if(typeof t(this).data("value")=="object"){i.children("input").val(JSON.stringify(t(this).data("value")))}else{i.children("input").val(t(this).data("value"))}i.children("span").text(t(this).text());t(this).parent().fadeOut(300,function(){i.data("open",false)});if(typeof s.options.onChange=="function"){s.options.onChange.call(s,t(this).data("value"),t(this).text(),t(this).data("other"))}}).on("blur",".dpmenu",function(){t(this).fadeOut(300,function(){t(this).parent().data("open",false)})})};this.selectValue=function(t){var i=null;for(var e=0;e<this.options.items.length;e++){if(t===this.options.items[e].value){i=this.options.items[e]}}this.$obj.find("span").text(i.label);this.$obj.find("input").val(i.value)};return this};t.fn.DropList=function(t){var i=this[0];if(typeof t=="string"){switch(true){case t=="select":i.droplist.selectValue(arguments[1]);break;default:alert("error param");break}}else if(typeof t=="object"){i.droplist=new a(t,i);i.droplist.init()}else{alert("error param")}return this};var n=function(i,e){var s=this;var o={items:[{value:0,label:"defaultValue",other:""}],defaultValue:null,onChange:function(){},showDefaultValue:true,suffix:"",selShowSuffix:true,selectSpace:true,style:"auto",parent:"",dir:"down"};this.options=t.extend(o,i);this.selectHtml='<input type="hidden">'+'<span class="select-text ar-eg"></span><span class="suffix" style="color:#999" >'+'</span><div class="select-ico"></div><ul class="dpmenu-EMU5" style="display:none;"></ul>';this.init=function(){this.$obj=t(e).addClass("ddrop-EMU5").html(this.selectHtml);this.$obj.find(".suffix").text(this.options.suffix);var i=this.options;var o=this;var n=this.$obj.find(".dpmenu-EMU5");this.$ul=n;var l=this.$obj.css("overflow");if(this.options.dir=="up"){n.addClass("dpmenu-EMUI5-up")}else{n.addClass("dpmenu-EMUI5-down")}var r=null;var d=this.options.items.length;n.append('<div class="flow-top"></div>');var f=a(this.options.items);if(this.options.style=="full"){this.options.parent.css("position","relative");this.$obj.css("position","static");f=this.options.parent.width()-32;n.width(f+32);n.css("min-width",f+32);n.css("max-width",f+32);n.css("left","0");n.css("right","0");var h=this.options.parent.height()+this.options.parent.css("padding-top").split("px")[0]*1+8;n.css("top",h+"px")}if(d>6){n.css("overflow-y","scroll");n.css("min-width",n.width()+20+"px");n.css("max-width",n.css("max-width").split("px")[0]*1+20+"px")}n.width(f+32);for(var c=0;c<d;c++){if(c!=d-1){n.append("<li class='dropListEMUI5_li'></li><div class='uc-line' style='width:"+f+"px'><div></div></div>");n.find(".dropListEMUI5_li:last").text(this.options.items[c].label);n.find(".dropListEMUI5_li:last").attr("data-other",this.options.items[c].other);n.find(".dropListEMUI5_li:last").attr("data-value",this.options.items[c].value)}else{n.append("<li class='dropListEMUI5_li'></li>");n.find(".dropListEMUI5_li:last").text(this.options.items[c].label);n.find(".dropListEMUI5_li:last").attr("data-other",this.options.items[c].other);n.find(".dropListEMUI5_li:last").attr("data-value",this.options.items[c].value)}if(!this.options.defaultValue&&this.options.defaultValue!==0&&c==0){r=this.options.items[c]}else if(this.options.defaultValue==this.options.items[c].value){r=this.options.items[c]}}if(!r){r=this.options.items[0]}if(d==1&&!i.defaultText){r=this.options.items[0];this.$obj.find(".select-ico").addClass("select-ico-gray")}if(!this.options.showDefaultValue){if(this.options.selectSpace){this.$obj.find(".select-text").text(r?r.label:"").css("visibility","hidden")}this.$obj.find("input").val(r?r.value:"")}else{this.$obj.find(".select-text").text(r?r.label:"");this.$obj.find("input").val(r?r.value:"");this.$obj.find(".suffix").css("color","#333")}if(i.showday&&!i.selShowSuffix&&this.$obj.find(".select-text").css("visibility")!="hidden"){this.$obj.find(".suffix").text("")}if(i.defaultText){this.$obj.find(".select-text").text(i.defaultText);this.$obj.find("input").val("")}this.$obj.unbind();var p=false;this.$obj.on("click",function(){if(p){p=false;return}if(d==1&&!i.defaultText||t(this).hasClass("ddrop-disabled"))return;var e=t(this).data("open");if(!e){o.$obj.css("overflow","visible");t(this).children(".dpmenu-EMU5").attr("tabindex",0).show().focus();t(this).data("open",true);if(o.options.style=="full"){var s=o.options.parent.height()+o.options.parent.css("padding-top").split("px")[0]*1+8;n.css("top",s+"px")}}else{o.$obj.css("overflow",l)}}).on("click",".dpmenu-EMU5 > li",function(e){e.stopPropagation();o.$obj.css("overflow",l);var a=t(this).closest(".ddrop-EMU5");if(typeof t(this).data("value")=="object"){a.children("input").val(JSON.stringify(t(this).data("value")))}else{a.children("input").val(t(this).data("value"))}a.children(".select-text").text(t(this).text()).css("visibility","visible");if(!i.selShowSuffix){a.children(".suffix").text("")}t(this).parent().hide();a.data("open",false);if(typeof s.options.onChange=="function"){s.options.onChange.call(s,t(this).data("value"),t(this).text(),t(this).data("other"))}a.children(".suffix").css("color","#333")}).on("blur",".dpmenu-EMU5",function(){p=true;t(this).hide();t(this).parent().data("open",false);o.$obj.css("overflow",l)});this.$obj.find(".dpmenu-EMU5")[0].onmousewheel=function(t){if(!t)t=window.event;this.scrollTop=this.scrollTop-(t.wheelDelta?t.wheelDelta:-t.detail*10);return false};t(document).bind("click",function(){p=false});addItemActive(t(".dpmenu-EMU5 > li",this.$obj),"li-active")};this.selectValue=function(t){var i=null;for(var e=0;e<this.options.items.length;e++){if(t==this.options.items[e].value){i=this.options.items[e]}}this.$obj.find(".select-text").text(i.label).css("visibility","visible");this.$obj.find(".suffix").css("color","#333");this.$obj.find("input").val(i.value)};function a(i){var e=104;var s;var o;for(var a=0;a<i.length;a++){s='<span id="contLength" style="visibility:hidden;font-size:15px;"></span>';t("body").append(s);t("#contLength:last").text(i[a].label);o=t("#contLength")[0].offsetWidth+1;if(o>e)e=o;t("#contLength").remove()}return e}return this};t.fn.DropListEMUI5=function(t){var i=this[0];if(!i){return}if(typeof t=="string"){switch(true){case t=="select":i.droplistEMUI5.selectValue(arguments[1]);break;default:alert("error param");break}}else if(typeof t=="object"){i.droplistEMUI5=new n(t,i);i.droplistEMUI5.init()}else{alert("error param")}return this};var l=function(i,e){var s;var o;var a;var n;var l;var r;var d={yearChange:function(){},monthChange:function(){},dayChange:function(){},format:"Y-M-D",yearSuffix:"",monthSuffix:"",daySuffix:"",itemSuffix:false,yearSpace:true,monthSpace:true,daySpace:true,dir:"down"};this.init=function(){i=t.extend(d,i);var u="<div> <input class='year' type='hidden'  /><input class='month' type='hidden' /> <input class='day' type='hidden'> <div class='yearDiv dateItems'></div> <div class='monthDiv dateItems'></div> <div class='dayDiv dateItems'> </div></div>";var v=e;v.html(u);s=t(".dayDiv",v);o=t(".monthDiv",v);a=t(".yearDiv",v);n=t(".day",v);l=t(".year",v);r=t(".month",v);n.val("N");l.val("N");r.val("N");var g=f();var b=h();var m=c(2016,1);var x=true;if(localInfo.lang!="zh-cn"&&localInfo.lang!="zh-hk"&&localInfo.lang!="zh-tw"){x=false}if(i.format.indexOf("Y")!=-1){a.DropListEMUI5({items:g,defaultValue:"N",showDefaultValue:false,suffix:i.yearSuffix,selShowSuffix:x,selectSpace:i.yearSpace,onChange:function(t,e){l.val(t);p(x);i.yearChange()},dir:i.dir})}if(i.format.indexOf("M")!=-1){o.DropListEMUI5({items:b,defaultValue:"N",showDefaultValue:false,suffix:i.monthSuffix,selShowSuffix:x,selectSpace:i.monthSpace,onChange:function(t,e){r.val(t);p(x);i.monthChange()},dir:i.dir})}if(i.format.indexOf("D")!=-1){s.DropListEMUI5({items:m,defaultValue:"N",showDefaultValue:false,suffix:i.daySuffix,selShowSuffix:x,selectSpace:i.daySpace,onChange:function(t,e){n.val(t);i.dayChange()},dir:i.dir})}};this.getValue=function(t){if(t=="Y"){return l.val()*1}else if(t=="M"){return r.val()*1}else if(t=="D"){return n.val()*1}};this.setDate=function(t,i,e){t=t||1900;i=i||1;e=e||1;a.DropListEMUI5("select",t);o.DropListEMUI5("select",i);s.DropListEMUI5("select",e);n.val(e);l.val(t);r.val(i)};function f(){var t=(new Date).getFullYear();var e=[];for(var s=t;s>=1900;s--){if(i.itemSuffix){t={value:s,label:s+i.yearSuffix}}else{t={value:s,label:s+""}}e.push(t)}return e}function h(){var t=[];var e={};for(var s=1;s<=12;s++){if(i.itemSuffix){e={value:s,label:s+i.monthSuffix}}else{e={value:s,label:s+""}}t.push(e)}return t}function c(t,e){var s=[30,31,28,31,30,31,30,31,31,30,31,30,31];if(e==2&&t%400==0||t%4==0&&t%100!=0){s[2]=29}var o=[];var a={};for(var n=1;n<=s[e];n++){if(i.itemSuffix){a={value:n,label:n+i.daySuffix}}else{a={value:n,label:n+""}}o.push(a)}return o}function p(t){if(i.format.indexOf("D")==-1)return;var e=l.val()*1;var o=r.val()*1;var a=n.val();var d=c(e,o);var f=false;if(a!="N"){f=true;if(a*1>d.length){a=1}}if(!isNaN(e)&&!isNaN(o)){s.DropListEMUI5({items:d,defaultValue:a,suffix:i.daySuffix,showDefaultValue:f,selShowSuffix:t,showday:true,onChange:function(t,e){n.val(t);i.dayChange()},dir:i.dir})}}};t.fn.datePickEMUI5=function(i){var e=this[0];if(!e){return}if(typeof i=="object"){e.datePickEMUI5=new l(i,t(e));e.datePickEMUI5.init()}else if(typeof i=="string"){return e.datePickEMUI5.getValue(i)}else if(typeof i=="number"){e.datePickEMUI5.setDate.apply(e.datePickEMUI5,arguments)}};t(document).on("click",".radio",function(){if(t(this).data("check")){return}var i=t(this).data("group");r(t(this),true);r(t("[data-group='"+i+"']").not(this),false);t("#"+i).val(t(this).data("value"));t("#"+i).trigger("change")}).on("check",".radio",function(){t(this).trigger("click")});function r(t,i){if(i){t.removeClass("roff").addClass("ron")}else{t.removeClass("ron").addClass("roff")}t.data("check",i)}function d(t){if(t.length>28){if(t.indexOf("*")>0){var i=t.substring(0,t.indexOf("*"));var e=t.substring(t.lastIndexOf("*"),t.length);i=i.substring(0,24-e.length);t=i+"****"+e}}return t}});