$(function(){$(".loginmask").hide();checkCookie("isRead");if(localInfo.isOpenSMSLogin=="true"){$(".changeLoginType").css("visibility","visible")}if(localInfo.displayCaptchaType=="0"&&localInfo.isOpenImgCode=="true"){$("#picAuthCode").addClass("user-input-tr")}var e=function(e){$("#login_msg").show().html(e)};var o=$("#login_userName").is(":hidden");var r=localInfo.rememberAccount;if(!o&&r){r=r.replace(/\"/g,"");$("#login_userName").val(r);$("#remember_name").prop("checked",true);if($("#remember_name_icon")){$("#remember_name_icon").removeClass("tick-off-icon").addClass("tick-on-icon")}if(isNumber(r)){$("#login_phoneNum").val(r);$("#remember_smsName").prop("checked",true);if($("#remember_smsName_icon")){$("#remember_smsName_icon").removeClass("tick-off-icon").addClass("tick-on-icon")}}}var n=$("#login_userName"),i=$("#login_password"),s=$("#login_phoneNum"),t=$("#smsAuthCode"),a=function(e){$("#login_msg").hide();e.removeClass("error")};var l=false;var c=false;smsRandomeCodeInit();$.label(n,rss.login_js_hwaccount).label(i,rss.login_js_password);var u={$account:n,showErrorFn:function(e){showLoginError(e,"userName",$("#login_userName"))},reInputFn:function(){showLoginErrorhide("userName")}};accountValidator(u);validator.bind(i,{type:["require"],trim:false,validOnChange:true,min:8,max:32,errorFunction:function(e,o){switch(o.type){case"require":showLoginError(rss.common_js_inputpwd,"passWord",$("#login_password"));break}},successFunction:a,reInputFunction:function(){showLoginErrorhide("passWord")}});n.focus();$.label(s,rss.loginUserPhone);validator.bind(s,{type:["require","number","length"],min:4,max:20,validOnChange:true,errorFunction:function(e,o){switch(o.type){case"require":showLoginError(rss.emptyphone,"phoneNum",$("#login_phoneNum"));break;case"number":showLoginError(rss.phoneNumError,"phoneNum",$("#login_phoneNum"));break;case"length":showLoginError(rss.phoneNumError,"phoneNum",$("#login_phoneNum"));break}},successFunction:function(){},reInputFunction:function(){$("#completePhoneNum").data("phone","");showLoginErrorhide("phoneNum")}});$.label(t,rss.smsAuthCode);validator.bind(t,{type:["require","length","number"],trim:true,min:4,max:8,validOnChange:true,msg:{require:rss.inputAuthCodeTip,length:rss.smsAuthCodeLength,number:rss.smsAuthCodeLength},errorFunction:function(e,o){switch(o.type){case"require":showLoginError(rss.common_js_inputsmscode,"smsAuthCode",$("#smsAuthCode"));break;case"length":showLoginError(rss.smsAuthCodeLength,"smsAuthCode",$("#smsAuthCode"));break;case"number":showLoginError(rss.smsAuthCodeLength,"smsAuthCode",$("#smsAuthCode"));break}},successFunction:function(e,o){},reInputFunction:function(){showLoginErrorhide("smsAuthCode")}});validator.register("mobile",function(e){if(e.length<11){return false}return/^(\d{4})?(1[0-9])[0-9]{9}$/.test(e)});validator.register("emailormobile",function(e,o){if(o.allowEmpty&&(e==""||e==null)){return true}if(e.length<11){return false}return/^(1[0-9])[0-9]{9}$|^\s*([A-Za-z0-9_-]+(\.\w+)*@(\w+\.)+\w+)\s*$/.test(e)});validator.register("number",function(e,o){var r=/^([0-9])+$/g;var n=r.test(e);return n?true:false});n.keyup(function(){var e=$(this);if(e.val()!=""&&/^[\s\S]*[\u4e00-\u9fa5]+[\s\S]*$/.test(e.val())){e.val("")}});s.keyup(function(){var e=$(this);if(e.val()!=""&&/^[\s\S]*[\u4e00-\u9fa5]+[\s\S]*$/.test(e.val())){e.val("")}});t.keyup(function(){var e=$(this);if(e.val()!=""&&/^[\s\S]*[\u4e00-\u9fa5]+[\s\S]*$/.test(e.val())){e.val("")}});$(".cookie-pro").bind("click",function(){window.open(localInfo.cookiePrivacyPolicyUrl,"_blank")});if($("#randomCodeImg").length>0){setTimeout(function(){$("#randomCodeImg")[0].onerror=function(){var e=this;if(e.src==""||!e.src.indexOf("authCodeImage"))return;e.style.width="45px";e.src=localInfo.randomCodeImgLoading}},10)}$(window).bind("load",function(){setTimeout(function(){if($("#randomCodeImg")[0]&&$("#randomCodeImg")[0].src.indexOf("loading.gif")!=-1){chgRandomCodeForLogin()}},200)});$(document).on("click","#btnLogin,#btnSMSLogin",function(){localInfo.authDialog=null;if($(this).data("type")=="accountLogin"){if(localInfo.isNeedImageCode&&$("#captcha1").length<=0){getCaptcha()}if($("#btnLogin").hasClass("disabled")){return false}var e=$(".login-form-marginTop")[0];if(!validator(e,true)){return false}if(localInfo.isNeedImageCode&&$("#captcha1").length>0&&localInfo.displayCaptchaType=="1"){showLoginErrorhide("allClean");$("#captcha1").click();return}if($("#captcha1").length>0&&!getRandomCode()&&localInfo.displayCaptchaType=="1"){showLoginErrorhide("allClean");$("#captcha1").click();return false}$("#btnLogin").blur();localInfo.userAccount=n.val().trim();localInfo.passWord=i.val();if(localInfo.isNeedImageCode&&typeof getRandomCode=="function"){localInfo.captchaRandomCode=getRandomCode()}login()}else if($(this).data("type")=="smsLogin"){var e=$(".smsLogin-form")[0];if(!validator(e,true)){return false}$("#btnSMSLogin").blur();f()}});$(".form-edit-area").on("focusout","#login_userName,#login_phoneNum",function(){if($(".global_dialog_confirm_content").length>0){return}var e=convPlusOfPhoneAccount($(this).val().trim());if(e){querySiteInfo(e,function(e,o){if(e.length>1){d(e)}else if(e.length==0){var r=o.errorCode;if(r=="10000507"){openGotoOwnSiteDialog()}}else if(e.length==1){m(o.crossSiteModel,o.redirectSiteUrl,o.extInfo);if($("#login_userName").is(":hidden")){var n="00"+o.siteInfoList[0].cy;var i=$("#login_phoneNum").val().trim();var s=new RegExp("^"+n).test(i);if(!s){i=n+i}$("#completePhoneNum").data("phone",i);$("#completePhoneNum").data("site",o.siteInfoList[0].siteID)}}},true)}});$(".form-edit-area").on("change","#remember_name,#remember_smsName",function(e){var o=$(this);var r=o.next().find(".checkBox-icon");if(o.prop("checked")){if(r){r.removeClass("tick-off-icon").addClass("tick-on-icon")}}else{if(r){r.removeClass("tick-on-icon").addClass("tick-off-icon")}}});$(".form-edit-area").on("mouseover mouseout","#rememberNameSpan,#sms-rememberNameSpan",function(e){if(e.type=="mouseover"){var o='<div class="bubble-tip-content">'+'<div class="bubble-tip">'+'<div class="bubble-tip-img bubble-tip-left-top"></div>'+'<div class="bubble-tip-img bubble-tip-right-top"></div>'+'<div class="bubble-tip-img bubble-tip-top"></div>'+'<div class="bubble-tip-img bubble-tip-left"></div>'+'<div class="bubble-tip-img bubble-tip-right"></div>'+'<div class="bubble-tip-center">'+rss.remeber_account_tip+"</div>"+'<div class="bubble-tip-img bubble-tip-left-bottom"></div>'+'<div class="bubble-tip-img bubble-tip-right-bottom"></div>'+'<div class="bubble-tip-img bubble-tip-underline"></div>'+'<div class="bubble-tip-img bubble-tip-bottomArrow"></div>'+"</div>"+"</div>";$(this).next().html(o).show();$(".bubble-tip-content").find(".bubble-tip-left,.bubble-tip-right").css("height",$(".bubble-tip-content").find(".bubble-tip-center").height()+"px")}else if(e.type=="mouseout"){$(this).next().html("").hide()}});$(".changeLoginType").on("click",function(){var e=$(this).data("type");if(e=="userAccountLogin"){$(".userAccountLogin").hide();$(".smsValidateLogin").show()}else if(e=="smsValidateLogin"){$(".smsValidateLogin").hide();$(".userAccountLogin").show()}});$("#getSmsRandomCode").on("click",function(e){if($("#getSmsRandomCode").attr("disabled")){return false}if(!validator($("#login_phoneNum"),true)){return false}if(!validator($("#smsRandomCode"),true)){return false}showLoginErrorhide("allClean");if(!$("#completePhoneNum").data("phone")){$(".form-edit-area #login_userName").trigger("focusout")}y(0)});(function(){var e=false;var o=true;var r=location.origin;var n=localInfo.getqrURL;var i=0;var s;if(isRightLang()){$("#qrcodeImg").css("right","109px")}else{$("#qrcodeImg").css("left","109px")}$(".loginTitle-right").click(function(){if($(this).hasClass("actived")){return}e=true;$(".loginTitle-left").removeClass("actived");$(".loginTitle-right").addClass("actived");$(".b-account").hide();$(".b-qrCode").show();u(function(){c()})});$(".loginTitle-left").click(function(){if($(this).hasClass("actived")){return}e=false;s&&s.abort();$(".loginTitle-right").removeClass("actived");$(".loginTitle-left").addClass("actived");$(".b-account").show();$(".b-qrCode").hide();$(".qrcode-over-time").hide()});$(".qrCode-help").css("opacity","0");$("#qrcodeImg").bind("mouseenter",function(){$("#qrcodeImg").stop();$(".qrCode-help").stop();if(isRightLang()){$("#qrcodeImg").animate({"right":"20px"},700,function(){})}else{$("#qrcodeImg").animate({"left":"20px"},400,function(){})}$(".qrCode-help").animate({"opacity":1},500,function(){})});$(".qrCode-main").bind("mouseleave",function(){$("#qrcodeImg").stop();$(".qrCode-help").stop();if(isRightLang()){$("#qrcodeImg").animate({"right":"109px"},700)}else{$("#qrcodeImg").animate({"left":"109px"},400,function(){o=true})}$(".qrCode-help").animate({"opacity":0},300)});$("#qrcodeImg .refush").click(function(e){$(".qrcode-over-time").hide();$(".refush-content").hide();$(".scan-success-content").hide();u(function(){t()})});function t(){c();$(".qrcode-over-time").hide();$(".refush-content").hide();$(".scan-success-content").hide()}function a(){$(".qrcode-over-time").show();$(".scan-success-content").show();$(".refush-content").hide()}function l(){$(".qrcode-over-time").show();$(".scan-success-content").hide();$(".refush-content").show()}function c(){s=$.ajax({url:localInfo.asyncURL+"&t="+Math.random(),type:"post",timeout:3e4,beforeSend:function(e){e.setRequestHeader("Page-Token","undefined"==typeof pageToken?"":pageToken)},success:function(e,o,r){if(e.resultCode=="0"){d(e)}else if(e.resultCode=="103000201"){l()}else if(e.resultCode=="103000202"){a();c()}else{c()}},error:function(){if(e){c()}}})}function u(e){if(localInfo.createQrCodeType=="1"){var o=localInfo.getqrContent.split("?")[0];$.ajax({url:o,dataType:"json",type:"POST",data:{appID:getUrlParam(localInfo.getqrContent,"appID"),confirmFlag:getUrlParam(localInfo.getqrContent,"confirmFlag"),version:getUrlParam(localInfo.getqrContent,"version"),reqClientType:getUrlParam(localInfo.getqrContent,"reqClientType"),loginChannel:getUrlParam(localInfo.getqrContent,"loginChannel")},beforeSend:function(e){e.setRequestHeader("Page-Token","undefined"==typeof pageToken?"":pageToken)},success:function(o){renderType="canvas";if(/msie\s+(7|8)/.test(navigator.userAgent.toLowerCase())){renderType="table"}$(".qrcode").html("");$(".qrcode").qrcode({render:renderType,width:150,height:150,text:o.content});e()}})}else{$("#qrcodeImg .qrcode").attr("src",XSSGuard4URL(n+"&_t="+(new Date).getTime()));$("#qrcodeImg .qrcode").one("load",function(){e()})}}function d(e){var o='<form method="post" autocomplete="off"  style="display: none;">'+'<input type="hidden" id="form_submitType" name="submitType"  value="autoLoginInner"/>'+'<input type="hidden" name="loginUrl"/>'+'<input type="hidden" name="service"/>'+'<input type="hidden" name="deviceID" value="7894564633456649" />'+'<input type="hidden" name="deviceType" value="0" />'+'<input type="hidden" name="loginChannel"/> '+'<input type="hidden" name="reqClientType"/>'+'<input type="hidden" id="form_userAccount" name="userAccount"/>'+'<input type="hidden" id="form_password" name="password"/>'+'<input type="hidden" id="form_authType" name="authType" value="1"/>'+'<input type="hidden" id="form_appID" name="appID" value="com.huawei.hwid"/>'+'<input type="hidden" id="form_opType" name="opType" value="3" />'+'<input type="submit" id="scanSmt" style="display: none;" />'+"</form>";$(document.body).append(o);$(document.body).find("form:last").attr("action",localInfo.postRemoteLogin);$(document.body).find("form:last input[name='loginUrl']").val(localInfo.loginUrl);$(document.body).find("form:last input[name='service']").val(localInfo.service);$(document.body).find("form:last input[name='loginChannel']").val(localInfo.loginChannel);$(document.body).find("form:last input[name='reqClientType']").val(localInfo.reqClientType);$(document.body).find("form:last input[name='userAccount']").val(e.userAccount);$(document.body).find("form:last input[name='password']").val(e.token);$("#scanSmt").click()}})();function d(e){var o=$("#login_userName").is(":hidden")?$("#login_phoneNum"):$("#login_userName");var r=localInfo.isIfmLogin?"ifmDialogCss":"";var n='<div class="mask"></div>';n+='<div class="dialog '+r+'">';n+='<div class="dcent">';$.each(e,function(e,o){n+='<div class="code-node line mkcl">';n+='<b data-value="false" class="ccr radio roff r"></b>';n+='<p class="item">';n+='<span class="split cc"></span><span class="split ua"></span>';n+="</p>";n+="</div>"});n+="</div>";n+="</div>";$("#selectCountryCodeDiv").html(n);$.each(e,function(e,r){var n=r;var i="+"+n.countryCode;$("#selectCountryCodeDiv .dialog .ccr").eq(e).attr("data",n.siteID);$("#selectCountryCodeDiv .dialog .item").eq(e).find(".cc").attr("data-site",r.siteID);$("#selectCountryCodeDiv .dialog .item").eq(e).find(".cc").text(i);$("#selectCountryCodeDiv .dialog .item").eq(e).find(".ua").text(o.val().trim())});$(".radio").on("click",function(e){$(this).removeClass("roff");$(this).addClass("ron");var r=$(this);setTimeout(function(){var e=r.parent().find(".cc").text().trim().replace("+","00");var n=e+o.val().trim();$("#selectCountryCodeDiv").html("");o.val(n);if($("#login_userName").is(":hidden")){$("#completePhoneNum").attr("data-phone",n);$("#completePhoneNum").attr("data-site",r.parent().find(".cc").data("site"))}localInfo.siteID=r.attr("data");querySiteInfo(n,function(e,o){if(e.length==1){m(o.crossSiteModel,o.redirectSiteUrl,o.extInfo);if($("#login_userName").is(":hidden")){var r="00"+o.siteInfoList[0].cy;var n=$("#login_phoneNum").val().trim();var i=new RegExp("^"+r).test(n);if(!i){n=r+n}$("#completePhoneNum").data("phone",n);$("#completePhoneNum").data("site",o.siteInfoList[0].siteID)}}},true)},200)})}window.login=function(e,o){localInfo.userAccount=$("#login_userName").val().trim();localInfo.passWord=$("#login_password").val();var r={loginUrl:localInfo.loginUrl,service:localInfo.service,loginChannel:localInfo.loginChannel,reqClientType:localInfo.reqClientType,lang:localInfo.lang,userAccount:convPlusOfPhoneAccount(localInfo.userAccount),password:localInfo.passWord,quickAuth:localInfo.quickAuth,isThirdBind:localInfo.isThirdBind==undefined?0:localInfo.isThirdBind,hwmeta:$("#hwmeta").val()};var n;n=localInfo.norCrossModel;if(n==undefined){querySiteInfo(r.userAccount,function(e,o){if(o.isSuccess!=1&&o.errorCode!="10000004"){showLoginError(rss.error_10000001,"loginErr")}},false,true);if(localInfo.chkRiskFail){return}n=localInfo.norCrossModel}if(n==2&&localInfo.isThirdBind){openNoAllowCrossSiteDialog();return}if(n==2){m(2,localInfo.redirectSiteUrl,localInfo.extInfo);return}if($("#remember_name").length>0){if($("#remember_name").prop("checked")){r.remember_name="on"}else{r.remember_name="off"}}else{if(localInfo.rememberAccount){r.remember_name="on"}else{r.remember_name="off"}}var i=false;var s=false;if(localInfo.isNeedImageCode){r.authcode=localInfo.captchaRandomCode}if(c){return}if(i){return}if(e&&e.remember_client_flag){r.remember_client_flag=e.remember_client_flag}if(e&&e.agrIDs){r.agrIDs=e.agrIDs}if(e&&e.guardianUserID){r.guardianUserID=e.guardianUserID}if(e&&e.guardianPwd){r.guardianPassword=e.guardianPwd}if(e&&e.newPassword){r.newPassword=e.newPassword}if(e&&e.opType){r.opType=e.opType}if(e&&e.authcode){r.authcode=e.authcode}if(e&&e.opType==4){r.twoStepVerifyCode=e.authCode;r.verifyAccountType=e.accountType;r.verifyUserAccount=e.account}if($("#authenDialog").length>0||$("#authAndUpdatediv").length>0){var t=$("#oldAuthCode").val();if(r.opType==5||r.opType==6||r.opType==7){r.authAccountType=e.authAccountType;r.authAccount=e.authAccount;r.authcode=e.authCode}else if(r.opType==8){var a=$.parseJSON($("#accountDiv input").val());r.authAccountType=e.authAccountType;r.authAccount=e.authAccount;r.authcode=e.authCode}else if(t){var a=$.parseJSON($("#accountDiv input").val());r.twoStepVerifyCode=t;r.verifyAccountType=a.type;r.verifyUserAccount=a.account}}var l;if(r.opType=="6"||r.opType=="8"||r.opType=="9"){l="riskLogin"}else{l="remoteLogin"}showLoginErrorhide("allClean");ajaxHandler(l,r,function(n){if(n.extInfo){localInfo.extInfo=n.extInfo}if("1"==n.isSuccess){var i=n.needPopTrust;if(i&&localInfo.authDialog){$(".global_dialog_confirm_main").hide();popTrustBrowser(function(){if($.isFunction(o)){o()}$(".loginmask").show();gotoUrl(n.callbackURL);return false})}else{if($.isFunction(o)){o()}$(".loginmask").show();gotoUrl(n.callbackURL);return false}}else{h(n,r,o,e);try{if(hwcap){hwcap.reload()}}catch(e){}}},function(e){},false,"JSON")};function f(e,o){var r={userAccount:$("#completePhoneNum").data("phone"),authCode:$("#smsRandomCode").val(),smsAuthCode:$("#smsAuthCode").val(),opType:"11",reqClientType:localInfo.reqClientType,loginChannel:localInfo.loginChannel,lang:localInfo.lang,service:localInfo.service,quickAuth:localInfo.quickAuth};var n;n=localInfo.phoneCrossModel;if(n==undefined){querySiteInfo(r.userAccount,function(e,o){if(o.isSuccess!=1&&o.errorCode!="10000004"){showLoginError(rss.smsLoginError_70001401,"loginErr")}},false,true);if(localInfo.chkRiskFail){return}n=localInfo.phoneCrossModel}if(n==2){m(2,localInfo.redirectSiteUrl,localInfo.extInfo);return}if($("#remember_smsName").length>0){if($("#remember_smsName").prop("checked")){r.remember_name="on"}else{r.remember_name="off"}}else{if(localInfo.rememberAccount){r.remember_name="on"}else{r.remember_name="off"}}showLoginErrorhide("allClean");ajaxHandler("smsLogin",r,function(n){if("1"==n.isSuccess){if($.isFunction(o)){o()}$(".loginmask").show();gotoUrl(n.callbackURL);return false}else{h(n,r,o,e)}},function(e){},false,"JSON")}function h(e,o,r,i){var s=o.opType?o.opType:"0";var t=e.errorCode;if(localInfo.displayCaptchaType=="1"&&$("#captcha1").length>0){resetRandomCode()}switch(t){case"70002072":{var a={desc:rss.uc_common_second_protect,lBtnTxt:rss.cancel,rBtnTxt:rss.next_step,queryCond:convPlusOfPhoneAccount($("#login_userName").val().trim()),optType:"secondAuth",callbackFn:login,siteID:localInfo.curAccountSiteID,accountInfoArr:initAccountList(e.errorDesc),operType:8};secAuthDialog(a);break}case"70012072":{var l=$.parseJSON(e.errorDesc).authCodeSentList;var a={userAccount:convPlusOfPhoneAccount($("#login_userName").val().trim()),callbackFn:login,siteID:localInfo.curAccountSiteID,password:$("#password").val(),operType:8,authCodeSentList:l};acctProtectV2Dialog(a);break}case"10008001":{if($.isFunction(r)){r()}var a={desc:rss.risk_control_high,queryCond:convPlusOfPhoneAccount($("#login_userName").val().trim()),callbackFn:login,lBtnTxt:rss.cancel,rBtnTxt:rss.ok,opType:"6",siteID:localInfo.curAccountSiteID,operType:10,accountInfoArr:initAccountList(e.errorDesc),userAccount:$("#login_userName").val().trim()};verifyIDDialog(a);break}case"10001015":{var a;if($("#login_userName").is(":hidden")){a={callbackFn:f,mobilePhone:$("#login_phoneNum").val(),authCode:$("#smsRandomCode").val(),smsAuthCode:$("#smsAuthCode").val()}}else{a={callbackFn:login,userAccount:$("#login_userName").val().trim(),password:$("#login_password").val(),authcode:o.authcode}}popAgreeDFDialog(a);break}case"10008002":{if($.isFunction(r)){r()}var a={desc:rss.account_protect_tip,queryCond:convPlusOfPhoneAccount($("#login_userName").val().trim()),callbackFn:login,opType:"6",siteID:localInfo.curAccountSiteID,operType:10,accountInfoArr:initAccountList(e.errorDesc),userAccount:$("#login_userName").val().trim()};verifyIDDialog(a);break}case"10008003":{if($.isFunction(r)){r()}var a={desc:rss.risk_control_high,queryCond:convPlusOfPhoneAccount($("#login_userName").val().trim()),callbackFn:login,lBtnTxt:rss.cancel,rBtnTxt:rss.ok,opType:"6",siteID:localInfo.curAccountSiteID,operType:10,accountInfoArr:initAccountList(e.errorDesc),userAccount:$("#login_userName").val().trim()};verifyIDDialog(a);break}case"10008004":case"100080041":case"100080042":{if($.isFunction(r)){r()}var c=rss.risk_control_low;if("100080041"==t||"100080042"==t){c=rss.login_error_100080041}var a={desc:c,lBtnTxt:rss.cancel,rBtnTxt:rss.next_step,queryCond:convPlusOfPhoneAccount($("#login_userName").val().trim()),optType:"identifyVerify",callbackFn:login,opType:"8",siteID:localInfo.curAccountSiteID,operType:9,accountInfoArr:initAccountList(e.errorDesc),userAccount:$("#login_userName").val().trim()};if("100080041"==t){a.isRemoteLogin=true}verifyIDDialog(a);break}case"10008005":{if($.isFunction(r)){r()}var a={opType:"9",newPassword:o.newPassword,siteID:localInfo.curAccountSiteID,callbackFn:login};updatePWDDialog(a);break}case"10008006":{if($.isFunction(r)){r()}var a={desc:rss.login_error_100080041,queryCond:convPlusOfPhoneAccount($("#login_userName").val().trim()),callbackFn:login,lBtnTxt:rss.cancel,rBtnTxt:rss.ok,opType:"6",siteID:localInfo.curAccountSiteID,operType:10,accountInfoArr:initAccountList(e.errorDesc),userAccount:$("#login_userName").val().trim(),isRemoteLogin:true};verifyIDDialog(a);break}case"70002071":{g(n.val(),"",rss.unverified_email_addr,rss.email_has_sendto.format(n.val()),localInfo.emailPng,rss.resend,rss.exit,rss.verified);break}case"10000510":{if($("#login_userName").is(":hidden")){var a={callbackFn:f,mobilePhone:$("#login_phoneNum").val(),authCode:$("#smsRandomCode").val(),smsAuthCode:$("#smsAuthCode").val()}}else{var a={callbackFn:login,userAccount:$("#login_userName").val().trim(),password:$("#login_password").val(),authcode:o.authcode}}if(localInfo.isThirdBind=="1"){var i={"userAccount":a.userAccount,"password":a.password};agreeCrossSiteAgr(i,a.authcode,a.callbackFn)}else{crossSiteIDDialog(a)}break}case"10000507":{openGotoOwnSiteDialog();break}case"10000508":{openNoAllowCrossSiteDialog();break}case"10000511":{m(2,e.callbackURL,e.extInfo);break}case"10000201":{localInfo.isNeedImageCode=true;if($("#captcha1").length<=0){getCaptcha()}if(s=="0"){if(localInfo.thirdLoginFlag&&localInfo.thirdLoginFlag==true){window.location.href=localInfo.loginUrl}if($.isFunction(r)){r()}showLoginError(rss.randomCodeIsInvalid,"randomCode",$("#captcha1"));$("#randomCode").focus();chgRandomCodeForLogin()}else if(s=="11"){showLoginError(rss.picCodeExpired,"smsRandomCode",$("#smsCaptcha"));$("#smsRandomCode").focus();chgRandomCodeForLogin("smsRandomCode")}break}case"10000400":{if(s=="0"){showLoginError(rss.login_wrong,"loginErr","",true)}else if(s=="1"){showEMUIError($("#oldAuthCode-box"),$("#oldAuthCode_error_info"),rss.error_70002057_1)}else if(s=="4"){$("#authCodeDiv").addClass("input-error-EMUI5");$("#msg_error_secAuth").html(rss.error_70002057_1)}else if(s=="8"){showEMUIError($("#oldAuthCode-box"),$("#oldAuthCode_error_info"),rss.error_70002057_1)}break}case"70002076":{$("div").DialogSimple({text:rss.error_70002076,btnText:rss.ok,btnFn:function(){location.href=localHttps+"/securitycenter/unfrozeAccount.html"+localInfo.queryString},btnLeftText:rss.cancel}).show();break}case"70002039":{if(s=="0"){showLoginError(rss.error_70002039,"randomCode",$("#captcha1"))}else if(s=="1"){showEMUIError($("#oldAuthCode-box"),$("#oldAuthCode_error_info"),rss.error_70002039)}else if(s=="4"){$("#authCodeDiv").addClass("input-error-EMUI5");$("#msg_error_secAuth").html(rss.error_70002039)}else if(s=="5"||s=="6"||s=="7"){showEMUIError($("#oldAuthCode-box"),$("#oldAuthCode_error_info"),rss.error_70002039)}else if(s=="8"){showEMUIError($("#oldAuthCode-box"),$("#oldAuthCode_error_info"),rss.error_70002039)}break}case"70002057":{if(s=="0"){showLoginError(rss.login_wrong,"loginErr","",true)}else if(s=="1"){showEMUIError($("#oldAuthCode-box"),$("#oldAuthCode_error_info"),rss.error_70002057_1)}else if(s=="4"){$("#authCodeDiv").addClass("input-error-EMUI5");$("#msg_error_secAuth").html(rss.error_70002057_1)}else if(s=="5"||s=="6"||s=="7"){showEMUIError($("#oldAuthCode-box"),$("#oldAuthCode_error_info"),rss.error_70002057_1)}else if(s=="8"){showEMUIError($("#oldAuthCode-box"),$("#oldAuthCode_error_info"),rss.error_70002057_1)}else if(s=="9"){showEMUIError($("#passwordDivTip"),$("#new_pwd_error_info"),rss.error_70002057_2)}else if(s=="11"){showLoginError(rss.smsLoginError_70002057,"loginErr")}break}case"70002058":{if(s=="0"){showLoginError(rss.error_70002058,"loginErr")}else if(s=="1"){showEMUIError($("#oldAuthCode-box"),$("#oldAuthCode_error_info"),rss.uc_error_70002058_3)}else if(s=="4"){$("#authCodeDiv").addClass("input-error-EMUI5");$("#msg_error_secAuth").html(rss.uc_error_70002058_3)}else if(s=="5"||s=="6"||s=="7"){showEMUIError($("#passwordDivTip"),$("#new_pwd_error_info"),rss.uc_error_70002058_3);showEMUIError($("#oldAuthCode-box"),$("#oldAuthCode_error_info"),rss.uc_error_70002058_3)}else if(s=="8"){showEMUIError($("#oldAuthCode-box"),$("#oldAuthCode_error_info"),rss.uc_error_70002058_3)}else if(s=="9"){showEMUIError($("#passwordDivTip"),$("#new_pwd_error_info"),rss.uc_error_70002058_3)}else if(s=="11"){showLoginError(rss.smsLoginError_70002058,"loginErr")}break}case"70008001":{if(s=="5"||s=="6"||s=="7"){showEMUIError($("#passwordDivTip"),$("#new_pwd_error_info"),rss.error_70008001)}else if(s=="9"){showEMUIError($("#passwordDivTip"),$("#new_pwd_error_info"),rss.error_70008001)}break}case"70002070":{if(s=="5"||s=="6"||s=="7"){showEMUIError($("#passwordDivTip"),$("#new_pwd_error_info"),rss.error_70002070)}else if(s=="9"){showEMUIError($("#passwordDivTip"),$("#new_pwd_error_info"),rss.error_70002070)}break}case"70002020":{if(s=="5"||s=="6"||s=="7"){showEMUIError($("#passwordDivTip"),$("#new_pwd_error_info"),rss.error_70002020)}else if(s=="9"){showEMUIError($("#passwordDivTip"),$("#new_pwd_error_info"),rss.error_70002020);validator.bind(confirmPassword,{type:["require","eq"],trim:false,validOnChange:true,compareTo:newPassword,msg_ct:"#confirm_pwd_error_info",msg:{require:rss.common_js_confirmpwd,eq:rss.error_70002020}})}break}case"70009016":{if(s=="5"||s=="6"||s=="7"){showEMUIError($("#passwordDivTip"),$("#new_pwd_error_info"),rss.error_70009016)}else if(s=="9"){showEMUIError($("#passwordDivTip"),$("#new_pwd_error_info"),rss.error_70009016)}break}case"70005004":{if(s=="0"){showLoginError(rss.error_70005004,"loginErr")}else if(s=="1"){showEMUIError($("#oldAuthCode-box"),$("#oldAuthCode_error_info"),rss.error_70005004)}else if(s=="4"){$("#authCodeDiv").addClass("input-error-EMUI5");$("#msg_error_secAuth").html(rss.error_70005004)}break}case"10000505":{if(s=="0"){showLoginError(rss.error_10000505,"loginErr")}else if(s=="1"){showEMUIError($("#oldAuthCode-box"),$("#oldAuthCode_error_info"),rss.error_10000505)}else if(s=="4"){$("#authCodeDiv").addClass("input-error-EMUI5");$("#msg_error_secAuth").html(rss.error_10000505)}break}case"10000402":{if(s=="11"){showLoginError(rss.smsLoginError_10000402,"loginErr","",true)}break}case"70001401":{if(s=="11"){showLoginError(rss.smsLoginError_70001401,"loginErr")}break}case"70008805":{if(s=="11"){showLoginError(rss.smsLoginError_70008805,"loginErr")}break}default:{if(s=="0"){showLoginError(rss.error_10000001,"loginErr")}else if(s=="1"){showEMUIError("",$("#oldAuthCode_error_info"),rss.error_10000001)}else if(s=="4"){$("#msg_error_secAuth").html(rss.error_10000001)}else if(s=="5"||s=="6"||s=="7"){showEMUIError("",$("#oldAuthCode_error_info"),rss.error_10000001);showEMUIError("",$("#new_pwd_error_info"),rss.error_10000001)}else if(s=="8"){showEMUIError("",$("#oldAuthCode_error_info"),rss.error_10000001)}else if(s=="9"){showEMUIError("",$("#new_pwd_error_info"),rss.error_10000001)}else if(s=="11"){showLoginError(rss.smsLoginError_70001401,"loginErr")}break}}}function m(e,o,r){if(e==2){if(localInfo.isThirdBind){return}if(o.indexOf("oauth2")>0){o=o+localInfo.queryString}else{o=o+localInfo.requestURIQuery}if(r){if(o.indexOf("?")>0){o=o+"&extInfo="+r}else{o=o+"?extInfo="+r}}p(o)}}function p(e){var o=rss.global_cross_page_redirect;$("<div>").Dialog({title:rss.prompt,btnLeft:{text:rss.cancel_btn,fn:function(){this.hide()}},btnRight:{text:rss.iKnowBtn,fn:function(){gotoUrl(e)}},html:o,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){}}).Dialog("show")}function g(e,o,r,n,i,s,t,a){if(e==null){return}e=e.trim();var l=/^(\d{4,20})$/;var c=l.test(e);if(c){_(e,o,r,n,i,s,t,a)}else{w(o,r,n,i,s,t,a)}}function _(e,o,r,n,i,s,t,a){var l=e;var c="";c=c+'<p class="inptips2">'+rss.uc_verify_phone_tip.format(getExpressPhone(l))+"</p>";c=c+'<div id="unactived_phone"></div>';c=c+'<div class="dinput"  id="oldAuthCode-box"><input id="security_account_verify_code" type="text"/><div class="dbtn2 sbtn r" act="getVerificationCode" intervaltime="60" id="getAuthCodeBtn"><span>'+rss.getAuthCode+'</span><div id="get_authcode_error_info"></div></div></div><div id="auth_code_error_info" class="error-tips-EMUI5"></div>';var u={title:rss.uc_verify_phone,btnRight:{text:rss.verify,fn:function(){var o=this;if(!validator($("#security_account_verify_code"),true)){return}var r=$("#security_account_verify_code").val();b(e,r,function(){o.hide()})}},btnLeft:{text:rss.cancel_btn,fn:function(){}},actions:{getVerificationCode:function(){var o=this;if(v(this.$dialog)){C(2,e,0,function(e){if(e){I(o.$dialog,rss.resend)}})}}},html:c,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){var e=this;validateAuthCode($("#security_account_verify_code"),$("#oldAuthCode-box"),$("#auth_code_error_info"));e.disabled();var o=$("#security_account_verify_code");o.bind("keyup paste",function(){var o=this;setTimeout(function(){if($(o).val().trim()!=""){e.enable()}else{e.disabled()}},0)})}};$("<div>").Dialog(u).Dialog("show");$.label($("#security_account_verify_code"),rss.smsAuthCode)}function v(e,o){var r=e.find("[act='getVerificationCode']");var n=r.attr("disabled");if(n){return false}return true}function C(e,o,r,n,i){if(!i){i=o}var s={};var t="";var a=$("#auth_code_error_info");var l={10000002:rss_new.uc_error_10000001,10000003:rss_new.uc_error_10000001,70001201:rss_new.uc_error_10000001,"default":rss_new.resetpwd_get_authcode_error};if(e==1||e==5){s={email:o,emailReqType:r,accountType:e,reqClientType:localInfo.reqClientType,operType:19,languageCode:localInfo.lang};l["70001102"]=rss_new.uc_error_70001102_0;l["70001104"]=rss_new.uc_error_70001104_0;casAjaxObj.getEMailAuthCode(s,c,u,l)}else if(e==2||e==6){s={accountType:e,userAccount:o,reqClientType:localInfo.reqClientType,mobilePhone:i,operType:19,smsReqType:r,languageCode:localInfo.lang};l["70001102"]=rss_new.uc_error_70001102_1;l["70001104"]=rss_new.uc_error_70001104_1;casAjaxObj.getSMSAuthCode(s,c,u,l)}function c(r){if(e==2||e==6){showMsgSuccess({obj:$("#get_authcode_error_info"),msg:rss.phoneMegHasSendTo.format(getExpressPhone(o)),leftPix:"-289px",rightPix:"-289px",bottom:"38px"})}else if(e==1||e==5){showMsgSuccess({obj:$("#get_authcode_error_info"),msg:rss.emialHasSendTo.format(o),leftPix:"-289px",rightPix:"-289px",bottom:"38px"});$(".userAccount").html(o)}if(n){n(r.isSuccess==1?true:false)}}function u(e,o){showEMUIError("",a,e);if(n){n(o.isSuccess==1?true:false)}}}function I(e,o){var r=e.find("[act='getVerificationCode']");var n=r.attr("disabled");if(n){return false}r.addClass("auth_code_grey");jsInnerTimeout(r,o);return true}function b(e,o,r){var n={operType:1,mobilePhone:e,reqClientType:localInfo.reqClientType,smsAuthCode:o};ajaxHandler("activateMsisdn",n,function(e){if(e&&e.isSuccess==1){if(typeof r=="function"){r()}}else{switch(e.errorCode){case"10000001":case"70001101":case"70001201":{showEMUIError($("#oldAuthCode-box"),$("#auth_code_error_info"),rss.error_10000001);break}case"70002039":{showEMUIError($("#oldAuthCode-box"),$("#auth_code_error_info"),rss.error_70002039);break}case"70001401":{showEMUIError($("#oldAuthCode-box"),$("#auth_code_error_info"),rss.error_70001401);break}case"70002001":{showEMUIError($("#oldAuthCode-box"),$("#auth_code_error_info"),rss.error_70002001);break}default:{showEMUIError($("#oldAuthCode-box"),$("#auth_code_error_info"),rss.error_10000001);break}}}},function(){},true,"json")}function w(e,o,r,n,i,s,t){var a=" ";a+="<div>";a+='<p class="inptips3 det-width">'+r+"</p>";a+='<div style="margin-top: 10px">';a+='<div class="dbtn3 resendBtn" act="action"  intervaltime="60" id="getActive"><span>'+i+"</span></div>";a+='</div><div id="get_authcode_error_info" class="error-tips-EMUI5 emailValidFail"></div>';a+="</div>";var l={title:rss.unverified_email_addr,btnRight:{text:t,fn:function(){if(isActiveAccount(convPlusOfPhoneAccount($("#login_userName").val().trim()))){this.hide()}else{showEMUIError("",$("#get_authcode_error_info"),rss.verification_not_completed)}}},btnLeft:{text:s,fn:function(){this.hide()}},html:a,dialogStyle:localInfo.msgDialogStyle,actions:{"action":function(){if($("#getActive").attr("disabled")){return false}if(isActiveAccount(convPlusOfPhoneAccount($("#login_userName").val().trim()))){showEMUIError("",$("#get_authcode_error_info"),rss.error_70002019);return false}getActivateEMailURL(convPlusOfPhoneAccount($("#login_userName").val().trim()),localInfo.reqClientType,$("#getActive"))}}};$("<div>").Dialog(l).Dialog("show");getActivateEMailURL(convPlusOfPhoneAccount($("#login_userName").val().trim()),localInfo.reqClientType,$("#getActive"));$(".userAccount").html(convPlusOfPhoneAccount($("#login_userName").val().trim()))}function y(e){if(!$("#completePhoneNum").data("phone")){if(e<5){e=e+1;setTimeout(y,1e3,e)}else{showLoginError(rss.error_10000001,"loginErr")}return}var o;o=localInfo.phoneCrossModel;if(o==undefined){querySiteInfo($("#completePhoneNum").data("phone"),function(e,o){if(o.isSuccess!=1&&o.errorCode!="10000004"){showLoginError(rss.smsLoginError_70001401,"loginErr")}},false,true);if(localInfo.chkRiskFail){return}o=localInfo.phoneCrossModel}if(o==2){m(2,localInfo.redirectSiteUrl,localInfo.extInfo);return}var r={phoneOrEmail:$("#completePhoneNum").data("phone"),authCodebtn:$("#getSmsRandomCode")};r.account=$("#completePhoneNum").data("phone");r.siteID=$("#completePhoneNum").data("site");r.reqType=2;r.accountType=2;r.errorTip=$("#smsAuthCode-errMsg");r.errorDiv="";r.isSmsLogin=true;getAuthCode(r)}if(localInfo.extInfo&&localInfo.isThirdLogin!="true"){$("#login_userName").val(localInfo.extInfo);if(isNumber(localInfo.extInfo)){$("#login_phoneNum").val(localInfo.extInfo)}}$("#btn-more").on("click",function(e){var o=$("#more_list");o.css("display")=="none"?o.show():o.hide();e.stopPropagation()});$("#loginform").on("click",function(){var e=$("#more_list");if(e.css("display")!="none"){e.hide()}});$("#goSecurity").on("click",function(){window.top.location.href=localHttps+"/portal/securitycenter/securityCenter.html"+localInfo.queryString});regKeyBoardEvent("13",function(){if($("#login_userName").is(":hidden")){$("#btnSMSLogin").click()}else{$("#btnLogin").click()}},$(".loginEventForm input"))});function getValue(e,o){var r=e.search,n=!r?[]:r.split("&"),i={};for(var s=0,t=n.length;s<t;s++){var a=n[s].split("=");var l=a[0];if(s==0){l=l.split("?")[1]}if(o==l)return a[1]}return""}function chgRandomCodeForLogin(e){if("smsRandomCode"==e){var o=$("#smsRandomCode");var r=$("#smsRandomCodeImg");chgRandomCode(r[0],localInfo.webssoSMSLoginSessionCode);o.val("");$("#smsAuthCodeRight").removeClass("poptips-yes")}else{var n=$("#randomCode");var i=$("#randomCodeImg");chgRandomCode(i[0],localInfo.webssoLoginSessionCode);n.val("");$("#authCodeRight").removeClass("poptips-yes")}try{if(hwcap){hwcap.reload()}}catch(e){}}function getAccountInfo(e,o,r){var n={"userAccount":convPlusOfPhoneAccount(e),"reqClientType":localInfo.reqClientType,"operType":o};ajaxHandler("getUserAccInfo",n,function(e){var o=e.isSuccess;if(o=="1"){r(e.userAcctInfoList)}},function(){},false,"json")}function isActiveAccount(e){var o=false;getAccountInfo(e,5,function(e){for(var r=0;r<e.length;r++){var n=e[r];if((n.accountType==1||n.accountType==2)&&n.accountState==1){o=true;break}}});return o}function getActivateEMailURL(e,o,r){var n={reqClientType:o,languageCode:localInfo.lang};r.attr("disabled");casAjaxObj.getActivateEMailURLFn(n,function(e){if(e.isSuccess=="1"){if(r!=null){r.attr("IntervalTime",60);r.addClass("auth_code_grey");jsInnerTimeout(r,rss.resend);r.attr("disabled")}}else{if(r!=null){r.removeAttr("disabled")}if(e.errorCode=="10000001"||e.errorCode=="70001201"){showEMUIError("",$("#get_authcode_error_info"),rss.error_10000001)}else if(e.errorCode=="10000002"){showEMUIError("",$("#get_authcode_error_info"),rss.error_10000002)}else if(e.errorCode=="10000004"){showEMUIError("",$("#get_authcode_error_info"),rss.error_10000004)}else if(e.errorCode=="70002001"){showEMUIError("",$("#get_authcode_error_info"),rss.error_70002001)}else if(e.errorCode=="70001401"){showEMUIError("",$("#get_authcode_error_info"),rss.error_70001401)}else if(e.errorCode=="70002008"){showEMUIError("",$("#get_authcode_error_info"),rss.error_70002008)}else if(e.errorCode=="70001102"){showEMUIError("",$("#get_authcode_error_info"),rss.error_70001102_2)}else if(e.errorCode=="70001104"){showEMUIError("",$("#get_authcode_error_info"),rss.error_70001104_3)}else if(e.errorCode=="70002019"){showEMUIError("",$("#get_authcode_error_info"),rss.error_70002019)}else if(e.errorCode=="70002009"){showEMUIError("",$("#get_authcode_error_info"),rss.error_70002009)}else{showEMUIError("",$("#get_authcode_error_info"),rss.get_activate_email_URL_Error)}}})}function checkCookie(e){if(localInfo.cookiePrivateAgreement=="true"){if(!getCookie(e)){$("#cookies_privacy").removeClass("hidden")}$("#cookies_privacy").find("img").click(function(o){$("#cookies_privacy").addClass("hidden");setCookie(e,true)})}}function querySiteInfo(e,o,r,n){if(!e){return}var i={"userAccount":convPlusOfPhoneAccount(e),"reqClientType":localInfo.reqClientType};if($("#login_userName").is(":hidden")){i.operType="11"}ajaxHandler("chkRisk",i,function(r){var i=r.isSuccess;var s=r.errorCode;var t=r.crossSiteModel;if($("#login_userName").is(":hidden")){localInfo.phoneCrossModel=t}else{localInfo.norCrossModel=t}if(t==2){localInfo.redirectSiteUrl=r.redirectSiteUrl;localInfo.extInfo=r.extInfo}var a=r.existAccountFlag;var l=r.isNeedImageCode;if(i==1){localInfo.curAccountSiteID=r.siteID;handleUserAccountChanged(convPlusOfPhoneAccount(e));if(a==1||a==2){var c=[];if(r.existAccountFlag==1||r.existAccountFlag==2){var u=r.siteInfoList;if(u){for(var d=0;d<u.length;d++){var f=u[d];var h={};h.siteID=f.siteID;h.countryCode=f.cy;h.loginUrl=f.loginUrl;c.push(h)}}}o(c,r);if(a==2){return}}if(l==1||localInfo.isOpenLocalCacheRisk=="true"){localInfo.isNeedImageCode=true;if($("#captcha1").length<=0){getCaptcha()}}else{localInfo.isNeedImageCode=false;if($("#captcha1").length>0){$("#picAuthCode").empty().parent().removeClass("user-input-tr");$("#picAuthCode").removeClass("user-input-tr");showLoginErrorhide("randomCode")}}}else{if($("#captcha1").length<=0){$("#randomCode").val(1111);localInfo.isNeedImageCode=false}else{localInfo.isNeedImageCode=true;$("#randomCode").val("")}if(n){localInfo.chkRiskFail=true}o([],r)}},function(){},r,"json")}function openGotoOwnSiteDialog(){var e='<span class="font-EMUI6">'+rss.noSupportService+"</span>";$("<div>").Dialog({title:rss.prompt,btnLeft:false,btnRight:{text:rss.iKnowBtn,fn:function(){this.hide()}},html:e,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){}}).Dialog("show")}function openNoAllowCrossSiteDialog(){var e='<span class="font-EMUI6">'+rss.no_allow_cross_site_login+"</span>";$("<div>").Dialog({title:rss.prompt,btnLeft:false,btnRight:{text:rss.IGetIt,fn:function(){this.hide()}},html:e,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){}}).Dialog("show")}function convPlusOfPhoneAccount(e){if(e){var o=e.replace(/^\s+|\s+$/g,"");var r=o.charAt(0);if(r=="+"){return"00"+o.substring(1)}return o}return e}function handleUserAccountChanged(e){if(e==null||e.trim()==""){return}else{e=e.trim()}if(localInfo.lastInputAccount==""){localInfo.lastInputAccount=e;localInfo.curInputAccount=e}else{localInfo.curInputAccount=e;if(localInfo.curInputAccount!=localInfo.lastInputAccount){localInfo.lastInputAccount=localInfo.curInputAccount}}}function showEMUIError(e,o,r,n,i){n=n?n:"input-error-EMUI5";i=i?i:"error-tips-EMUI5";if(e){e.addClass(n);o.html(r).addClass(i)}else{o.html(r).addClass(i)}}function hideEMUIError(e,o,r,n){r=r?r:"input-error-EMUI5";n=n?n:"error-tips-EMUI5";if(e&&e!=""){e.removeClass(r)}o.html("").removeClass(n)}function validateAuthCode(e,o,r){validator.bind(e,{type:["require","length","number"],trim:true,min:4,max:8,validOnChange:false,msg:{require:rss.inputAuthCodeTip,length:rss.authCodeLength,number:rss.authCodeLength},errorFunction:function(e,n){o.addClass("input-error-EMUI5");switch(n.type){case"require":r.html(rss.inputAuthCodeTip);break;case"length":r.html(rss.authCodeLength);break;case"number":r.html(rss.authCodeLength)}},successFunction:function(e,o){},reInputFunction:function(){r.html("");o.removeClass("input-error-EMUI5")}})}function chkAuthCode(e,o,r,n,i,s,t,a,l,c){var u={accountType:o,userAccount:e,authCode:r.trim(),authOprType:n,reqClientType:reqClientType,operType:s};var d={10000001:rss_new.common_wrong_authcode,"default":rss_new.common_wrong_authcode};var a=a||$(".errortip");if(t){casAjaxObj.chkAuthCodeBySession(u,f,h,d)}else{casAjaxObj.chkAuthCode(u,f,h,d)}function f(){var n={oldAccountType:o,oldUserAccount:e,oldAuthCode:r,reqClientType:reqClientType};i(n)}function h(e){if(c=="EMUI5"){l.addClass("input-error-EMUI5");a.html(e)}else{showError(a,e)}}}function getAuthCode(e){var o=e.userID;var r=e.account;var n=e.phoneOrEmail;var i=e.accountType;var s=e.authCodebtn;var t=e.reqType;var a=e.siteID;var l=e.errorStyle;var c=e.errorTip;var u=e.errorDiv;var d=e.failCustomize?e.failCustomize:false;var f="0";f=e.operType;var h=e.isLogin;var m;var p=1;s.attr("disabled");var g={10000001:rss_new.uc_error_10000001_1,"default":rss_new.uc_error_70002030};if(n.indexOf("@")!=-1){p=1;m={userID:o,accountType:i,reqClientType:localInfo.reqClientType,userAccount:r,emailReqType:t,operType:f,email:n,siteID:a,languageCode:localInfo.lang};if(h){g["70001102"]=rss_new.uc_error_70001102_0;g["70001104"]=rss_new.uc_error_70001104_0;casAjaxObj.getEMailAuthCodeBySession(m,_,v,g)}else{g["70001102"]=rss_new.uc_error_70001102_0;g["70001104"]=rss_new.uc_error_70001104_0;casAjaxObj.getEMailAuthCode(m,_,v,g)}}else{p=2;m={accountType:i,userAccount:r,reqClientType:localInfo.reqClientType,mobilePhone:n,operType:f,smsReqType:t,siteID:a,languageCode:localInfo.lang};if(e.isSmsLogin){m.operType="20";m.service=localInfo.service;m.loginChannel=localInfo.loginChannel;m.authCode=$("#smsRandomCode").val()}if(e.type=="identifyVerify"){m.smsReqType="3"}if(h){g["70001102"]=rss_new.uc_error_70001102_1;g["70001104"]=rss_new.uc_error_70001104_1;casAjaxObj.getSMSAuthCodeBySession(m,_,v,g)}else{g["70001102"]=rss_new.uc_error_70001102_1;g["70001104"]=rss_new.uc_error_70001104_1;casAjaxObj.getSMSAuthCode(m,_,v,g)}}function _(){s.attr("disabled");if(e.isSmsLogin){if(m.email){showMsgSuccess({obj:$("#smsAuthCodeTips"),msg:rss.emialHasSendTo.format(m.email),leftPix:"-243px",rightPix:"-228px",bottom:"38px"})}else{showMsgSuccess({obj:$("#smsAuthCodeTips"),msg:rss.phoneMegHasSendTo.format(getExpressPhone(m.mobilePhone)),leftPix:"-243px",rightPix:"-228px",bottom:"38px"})}}else{if(m.email){showMsgSuccess({obj:$("#authCodeError"),msg:rss.emialHasSendTo.format(m.email),leftPix:"-274px",rightPix:"-235px",bottom:"32px"})}else{showMsgSuccess({obj:$("#authCodeError"),msg:rss.phoneMegHasSendTo.format(getExpressPhone(m.mobilePhone)),leftPix:"-274px",rightPix:"-235px",bottom:"32px"})}}s.addClass("auth_code_grey");jsInnerTimeout(s,rss.resend)}function v(e,o){s.removeAttr("disabled");var r=o.errorCode;if(l){if(u&&u!=""){u.addClass("input-error-EMUI5")}if("70001104"==r){c.html(e,"left")}else{c.html(e)}}else{if("70002076"==r){$("div").DialogSimple({text:rss_new.uc_error_70002076,btnText:rss.ok,btnFn:function(){location.href=localHttps+"/securitycenter/unfrozeAccount.html"+localInfo.queryString},btnLeftText:rss.cancel}).show()}else if("10000201"==r){showLoginError(rss.picCodeExpired,"smsRandomCode",$("#smsCaptcha"));$("#smsRandomCode").focus();chgRandomCodeForLogin("smsRandomCode")}else{showLoginError(e,"loginErr")}}}}function gotoRegister(){window.top.location.href=localInfo.regseterLink}function gotoresetpwd(){window.top.location.href=localInfo.findPwd+localInfo.resetPwdLink}function smsRandomeCodeInit(){$("#smsRandomCodeImg").attr("src",XSSGuard4URL(localInfo.webssoSMSLoginSessionCode)).attr("alt",rss.authcode_name);var e=$("#smsRandomCode");validator.bind(e,{type:["require","chinaLang"],validOnChange:true,max:4,min:4,errorFunction:function(e,o){switch(o.type){case"require":showLoginError(rss.common_js_inputpiccode,"smsRandomCode",$("#smsCaptcha"));break;case"chinaLang":showLoginError(rss.picAuthCodeLength,"smsRandomCode",$("#smsCaptcha"));break}},successFunction:function(){},reInputFunction:function(){showLoginErrorhide("smsRandomCode")}});$.label(e,rss.imgCode);e.bind("keyup",function(e){var o=$(this);var r=$("#smsRandomCodeImg");if(typeof o[0]!="undefined"&&o.val().length==4){var n=o.val();var i={randomCode:n,session_code_key:"sms_login_session_ramdom_code_key"};ajaxHandler("authCodeValidate",i,function(e){if("1"==e.isSuccess){$("#smsAuthCodeRight").addClass("poptips-yes");$("#btnSMSLogin").focus()}else{chgRandomCode(r[0],localInfo.webssoSMSLoginSessionCode);o.focus();o.val("");try{if(hwcap){hwcap.reload()}}catch(e){}switch(e.errorCode){case"10000201":{showLoginError(rss.picAuthCodeLength,"smsRandomCode",$("#smsCaptcha"));break}case"10000001":{showLoginError(rss.error_10000001,"smsRandomCode",$("#smsCaptcha"));break}case"10000004":{showLoginError(rss.error_10000004,"smsRandomCode",$("#smsCaptcha"));break}default:{showLoginError(rss.error_10000002,"smsRandomCode",$("#smsCaptcha"));break}}}},function(e){},false,"JSON")}else if(typeof o[0]!="undefined"&&o.val().length!=4){}})}function showLoginError(e,o,r,n){var i=$(".userAccountLogin-errorTipsDiv");if($("#login_userName").is(":hidden")&&localInfo.isThirdLogin!="true"){i=$(".smsValidateLogin-errorTipsDiv")}i.html('<i class="loginErrorInfo marginR6"></i>'+e).data("type",o);if(i.next().find("tr").hasClass("error-underline")){i.next().find(".error-underline").removeClass("error-underline")}if(r){r.parent().addClass("error-underline")}if("loginErr"==o&&n){if($("#login_userName").is(":hidden")){$("#login_phoneNum").parent().addClass("error-underline");$("#smsAuthCode").parent().addClass("error-underline")}else{$("#login_userName").parent().addClass("error-underline");$("#login_password").parent().addClass("error-underline")}}if(("smsRandomCode"==o||"randomCode"==o)&&r){r.parent().parent().find(".poptips-yes").removeClass("poptips-yes")}}function showLoginErrorhide(e){var o=$(".userAccountLogin-errorTipsDiv");var r=false;if($("#login_userName").is(":hidden")){o=$(".smsValidateLogin-errorTipsDiv");if(e=="phoneNum"||e=="smsAuthCode"){r=true}}else{o=$(".userAccountLogin-errorTipsDiv");if(e=="userName"||e=="passWord"){r=true}}o=o||$("#msg_password");var n=o&&o.data("type");if("loginErr"==n&&r||e==n||e=="allClean"){o.html("").removeClass("loginErrorInfo");if(o.next().find("td").hasClass("error-underline")){o.next().find(".error-underline").removeClass("error-underline")}}if("smsRandomCode"==e&&$("#smsRandomCode").val().length==0){$("#smsAuthCodeRight").removeClass("poptips-yes")}else if("randomCode"==e&&localInfo.displayCaptchaType=="0"&&getRandomCode().length==0){$("#authCodeRight").removeClass("poptips-yes")}}function isAgreeUsedDeviceFinger(){var e;if($("#login_userName").is(":hidden")){e=$("#login_phoneNum").val()}else{e=$("#login_userName").val()}e=convPlusOfPhoneAccount(e);var o={userAccount:e};ajaxHandler("isAgreeUsedDeviceFinger",o,function(e){if("1"==e.isSuccess){var o=e.agree;if(!o){popAgreeDFDialog()}}else{}},function(e){},true,"JSON")}function agreeDFAgr(e,o){var r;if($("#login_userName").is(":hidden")){r=$("#login_phoneNum").val()}else{r=$("#login_userName").val()}r=convPlusOfPhoneAccount(r);var n={userAccount:r,isThird:"false"};ajaxHandler("agreeLatestDFVersion",n,function(r){if("1"==r.isSuccess){if(o!=undefined){o(e)}}else{}},function(e){},false,"JSON")}function registerForImfLogin(){window.top.location.href=localInfo.regseterLink}function popTrustBrowser(e){var o={};var r;if($("#login_userName").is(":hidden")){r=$("#login_phoneNum").val()}else{r=$("#login_userName").val()}if(!r){r=localInfo.userAccount}o.userAccount=r;o.operType=1;isTrustTheBrowser(o,e)}function isNumber(e){var o=/^([0-9])+$/g;var r=o.test(e);return r?true:false}